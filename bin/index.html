<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>*,*:before,*:after{margin:0;padding:0;box-sizing:border-box;user-select:none}html{font-size:100%;line-height:1.5;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;scroll-behavior:smooth}body{font-family:Arial,sans-serif;background-color:#fff;color:#000}html,body{display:flex;flex-direction:column;height:100%}main{flex-grow:1}ul,ol{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:""}table{border-collapse:collapse;border-spacing:0}button,input,textarea,select{font:inherit;color:inherit;background:none;border:none;outline:none}button{cursor:pointer}img,picture,video,canvas{max-width:100%;height:auto;display:block}a{text-decoration:none;color:inherit}.rflex-none-none-none{display:flex}.rflex-center-center-none{display:flex;align-items:center;justify-content:center}.rflex-center-center-small{display:flex;align-items:center;justify-content:center;gap:var(--ui-flex-gap-small)}.rflex-center-center-medium{display:flex;align-items:center;justify-content:center;gap:var(--ui-flex-gap-medium)}.rflex-center-spacebetween-none{display:flex;align-items:center;justify-content:space-between}.cflex-none-none-small{display:flex;flex-direction:column;gap:var(--ui-flex-gap-small)}:root{--transition-very-fast: 75ms;--ui-root-color: rgb(94, 73, 198);--ui-root-color-hover: rgb(36, 36, 116);--ui-border-radius-container: 5px;--ui-flex-gap-small: .25rem;--ui-flex-gap-medium: .5rem }.navigator-container{background-color:var(--ui-root-color);box-shadow:0 2px 3px var(--ui-root-color)}.navigator-menu-button-wrapper{width:fit-content!important;position:relative}.navigator-menu-button-wrapper:hover .navigator-menu-list{display:block}.navigator-menu-button{transition:all var(--transition-very-fast);background-color:var(--ui-root-color);padding:.75rem 1.75rem;width:100%;text-align:center;color:#fff;cursor:pointer;position:relative;z-index:10}.navigator-menu-button:hover{transition:all var(--transition-very-fast);background-color:var(--ui-root-color-hover)}.navigator-menu-list{background-color:var(--ui-root-color);box-shadow:0 2px 3px var(--ui-root-color);position:absolute;display:none;left:0%;top:100%;width:12rem;overflow:hidden}.aside-menu-container{background-color:var(--ui-root-color-hover);position:relative;width:13rem;height:100%}.aside-menu-nodes-list{flex-grow:1;height:100%}.aside-menu-resizer{box-shadow:0 2px 3px var(--ui-root-color);transition:all var(--transition-very-fast) ease;width:.5rem;flex-shrink:0;height:100%;cursor:e-resize}.aside-menu-resizer:active{transition:all var(--transition-very-fast) ease;background-color:var(--ui-root-color)}.aside-menu-nodes-list-empty{font-size:1.25rem;height:100%;padding:0 1rem;color:#fff}.aside-menu-nodes-list-empty>svg{flex-shrink:0;width:1.8rem}#aside-menu-contextmenu{position:absolute;left:0%;top:0%;z-index:9;width:9rem;background-color:var(--ui-root-color);border-radius:var(--ui-border-radius-container);box-shadow:0 2px 3px var(--ui-root-color);overflow:hidden}.aside-menu-contextmenu-button{transition:all var(--transition-very-fast);padding:.5rem 1rem;cursor:pointer;color:#fff;width:100%}.aside-menu-contextmenu-button:hover{transition:all var(--transition-very-fast) ease;background-color:var(--ui-root-color-hover)}.game-nodes-modal{position:absolute;left:0%;top:0%;width:100%;height:100%;z-index:12;background-color:#0006}.game-nodes-modal-body{border-radius:var(--ui-border-radius-container);box-shadow:0 2px 3px #0006;width:20rem;background-color:#fff;padding:.75rem}.game-nodes-modal-body-header{margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(192,192,192,.4)}.game-nodes-modal-body-close-button{border-radius:var(--ui-border-radius-container);color:var(--ui-root-color);transition:all var(--transition-very-fast);border:1px solid var(--ui-root-color);cursor:pointer;padding:.25rem}.game-nodes-modal-body-close-button:hover{border-radius:var(--ui-border-radius-container);transition:all var(--transition-very-fast);border:1px solid var(--ui-root-color);background-color:var(--ui-root-color);box-shadow:0 2px 3px #0006;color:#fff;cursor:pointer;padding:.25rem}.game-nodes-modal-hidden{opacity:0;visibility:hidden}.game-nodes-list-item{border-radius:var(--ui-border-radius-container);transition:all var(--transition-very-fast) ease;text-align:left;padding:.5rem;cursor:pointer}.game-nodes-list-item:hover{transition:all var(--transition-very-fast) ease;background-color:var(--ui-root-color-hover);color:#fff}.game-nodes-list-item-selected{background-color:var(--ui-root-color-hover);color:#fff}.game-nodes-new-node-data-container{width:100%;margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(192,192,192,.5)}.game-nodes-node-name-input{border-radius:var(--ui-border-radius-container);border:1px solid var(--ui-root-color);padding:.35rem .5rem}.game-nodes-input-error{border-radius:var(--ui-border-radius-container);color:#fff;padding:.45rem .5rem;background-color:#6e0000}.game-nodes-node-name-input::placeholder{color:var(--ui-root-color)}.game-nodes-form-submit-button{background-color:var(--ui-root-color);border-radius:var(--ui-border-radius-container);padding:.5rem;color:#fff}.game-nodes-form-submit-button:disabled{background-color:#b9abff;cursor:auto}</style></head><body id="body"><nav class="navigator-container rflex-none-none-none"><div id="project-actions-button" class="navigator-menu-button navigator-menu-button-wrapper">Menu</div></nav><main><aside class="aside-menu-container rflex-none-none-none"><div data-node="root" class="aside-menu-nodes-list"></div><button class="aside-menu-resizer"></b></aside></main></body><script>class e{#e=null;#t=null;constructor(e){this.#e=document.createElement(e),this.#t=[]}set(e,...t){return"function"==typeof this.#e[e]&&this.#e[e](...t),("object"==typeof this.#e[e]||"string"==typeof this.#e[e]||"number"==typeof this.#e[e]||typeof this.#e[e]>"u")&&(this.#e[e]=t),this}get(e){return this.#e[e]}getDOMElement(){return this.#e}addEvent(e,t){this.#e.addEventListener(e,t),this.#t.push({eventName:e,callback:t})}removeEvent(e,t){let n=[],s=0,o=this.#t.length;for(;s<o;)e!==this.#t[s].eventName&&!Object.is(t,this.#t[s].callback)&&n.push(this.#t[s]),s++;this.#e.removeEventLisneter(e,t),this.#t=n}delete(){let e=0,t=this.#t.length;for(;e<t;)this.#e.removeEventListener(this.#t[e].eventName,this.#t[e].callback),this.#t.shift(),e++;this.#e.remove(),this.#e=null,this.#t=null}}const t={remove:function(...t){let n=0,s=t.length;for(;n<s;)t[n]instanceof e?t[n].delete():t[n]instanceof HTMLElement&&t[n].remove(),n++;t=null},isElementExist:function(e){if(!e)return!1;switch(typeof e){case"string":return document.querySelector(e);case"object":const t=e.getAttribute("id"),n=e.getAttribute("class");let s;if(s=t?.length>0?document.getElementById(t):document.getElementsByClassName(n),s===e)return!0}return!1}};let n=null,s=null,o=null,i=null,l=null,r=null;function u(){a(),localStorage.removeItem(LOCAL_STORAGE_ADD_NODE_POSITION_KEY)}function a(){L(),t.remove(r,l,i,o,s,n),n=null,s=null,o=null,i=null,l=null,r=null}function d(e){switch(e){case"GameNodesModalContainer":return n;case"GameNodesModalBody":case"GameNodesModalBody":return s;case"GameNodesModalHeader":return o;case"GameNodesModalHeaderTitle":return i;case"GameNodesModalHeaderTitleText":case"GameNodesModalHeaderTitleText":return l;case"GameNodesModalCloseButton":return r}}function c(e){return Array.isArray(e)}function m(e){return null===e||"null"===e}class h{#e=null;constructor(e,t=!0){this.#e=e,"boolean"==typeof t&&!t&&Object.freeze(this)}get(){return this.#e}set(e,t){c(this.#e)&&t&&"string"==typeof e?this.#e[t]=e:this.#e=e}toUpperCase(){return m(this.#e)||c(this.#e)||(this.#e=this.#e.toUpperCase()),this}toLowerCase(){return m(this.#e)||c(this.#e)||(this.#e=this.#e.toLowerCase()),this}trim(){return m(this.#e)||c(this.#e)||(this.str=this.#e.trim()),this}repeat(e){return m(this.#e)||c(this.#e)?(console.warn("You trying to use repeat function on non string value"),this):(this.#e=this.#e.repeat(e),this)}replace(e,t){return m(this.#e)||c(this.#e)?(console.warn("You trying to use replace function on non string value"),this):(this.#e=this.#e.replace(e,t),this)}search(e){return m(this.#e)||c(this.#e)?(console.warn("You trying to use search function on non string value"),0):this.#e.search(e)}slice(e,t){return m(this.#e)||c(this.#e)?(console.warn("You trying to use slice function on non string value"),this):(this.#e=this.#e.slice(e,t),this)}split(e,t){return m(this.#e)||c(this.#e)?(console.warn("You trying to use split function on non string value"),this):(this.#e=this.str.split(e,t),this)}join(e){return m(this.#e)||!c(this.#e)?(console.warn("You trying to use join function on non array value"),this):(this.#e=this.#e.join(e),this)}includes(e,t){return m(this.#e)||!c(this.#e)?(console.warn("You trying to use join function on non array value"),!1):this.#e.includes(e,t)}iterator(e){const t=c(this.#e),n=t?this.#e:this.#e.split("");let s=0;const o=n.length;for(;s<o;){const t=e(n[s]);if("string"!=typeof t)throw new TypeError(`${t} is not of type "string"!`);n[s]=t,s++}return this.#e=t?n:n.join(),this}}const p=new h("2D_CHARACHTER_BODY",!1),g=new h("2D_COLLISION_BODY",!1),f=new h("SPRITE",!1),v=new h("NODE_2D",!1),y=[{type:p,typeName:new h("2D Character Body",!1)},{type:g,typeName:new h("2D Collision Body",!1)},{type:f,typeName:new h("Sprite",!1)},{type:v,typeName:new h("Node 2D",!1)}],b=3,E="ADD_NODE_POSITION";let w=null,M=null,A=null,D=null,O=null,C=null,x=[],N=null;function L(){t.remove(...x,C,D,O,A,M,w),w=null,M=null,A=null,D=null,O=null,C=null,x=[],N=null}function k(e){if(e.preventDefault(),A.get("value").length<b)C.set("textContent","Node name is not correct!"),C.set("removeAttribute","hidden");else if(N){let e={type:N.type,typeName:N.typeName,name:A.get("value"),childrens:{}};(function(e){if("AsideMenuNodes"===e)return U})("AsideMenuNodes").update((t=>{if("root"===localStorage.getItem(E))return e})),L(),d("GameNodesModalContainer").getDOMElement().classList.add("game-nodes-modal-hidden")}else C.set("textContent","You need to select node type!"),C.set("removeAttribute","hidden")}function S(){j()?D.set("removeAttribute","disabled"):D.set("setAttribute","disabled","true")}function j(){return A.get("value").length>b&&N}let I=null,B=null,T=null;function G(t){t.stopPropagation(),Y(),function(){const t="div";r=new e("button"),r.set("setAttribute","class","game-nodes-modal-body-close-button rflex-center-center-none").set("innerHTML",'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>').addEvent("click",u),l=new e("p"),l.set("textContent","Node types"),i=new e(t),i.set("setAttribute","class","rflex-center-center-small").set("innerHTML",'<svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-workflow"><rect width="8" height="8" x="3" y="3" rx="2"/><path d="M7 11v4a2 2 0 0 0 2 2h4"/><rect width="8" height="8" x="13" y="13" rx="2"/></svg>').set("insertAdjacentElement","beforeend",l.getDOMElement()),o=new e("section"),o.set("setAttribute","class","game-nodes-modal-body-header rflex-center-spacebetween-none").set("append",i.getDOMElement(),r.getDOMElement()),s=new e(t),s.set("setAttribute","class","game-nodes-modal-body").set("appendChild",o.getDOMElement()),n=new e(t),n.set("setAttribute","class","game-nodes-modal game-nodes-modal-hidden rflex-center-center-none").set("appendChild",s.getDOMElement()),document.getElementById("body").appendChild(n.getDOMElement())}(),function(){const t="game-nodes-list-item-selected",n="cflex-none-none-small";A=new e("input"),A.set("setAttribute","placeholder","New node name").set("setAttribute","name","node-name").set("setAttribute","class","game-nodes-node-name-input").addEvent("input",S),D=new e("button"),D.set("setAttribute","disabled","true").set("setAttribute","class","game-nodes-form-submit-button").set("textContent","Insert new node"),C=new e("section"),C.set("setAttribute","hidden","true").set("setAttribute","class","game-nodes-input-error"),O=new e("div"),O.set("setAttribute","class",`game-nodes-new-node-data-container ${n}`).set("append",A.getDOMElement(),C.getDOMElement(),D.getDOMElement()),M=new e("div"),M.set("setAttribute","class",n);let s=0,o=y.length;for(;s<o;){const n=new e("button"),o=y[s];n.set("setAttribute","type","button").set("setAttribute","class","game-nodes-list-item").set("append",o.typeName.get()).addEvent("click",(function(e){const n=e.target;n.classList.contains(t)?(n.classList.remove(t),N=null,D.set("setAttribute","disabled","true")):(M.getDOMElement().querySelector(`.${t}`)?.classList?.remove(t),n.classList.add(t),N={type:o.type,typeName:o.typeName,name:"",childrens:{}},j()&&D.set("removeAttribute","disabled"))})),M.set("appendChild",n.getDOMElement()),x.push(n),s++}w=new e("form"),w.set("setAttribute","class",n).set("append",M.getDOMElement(),O.getDOMElement()).addEvent("submit",k),d("GameNodesModalContainer").getDOMElement().querySelector(".game-nodes-modal-body").appendChild(w.getDOMElement())}(),d("GameNodesModalContainer").getDOMElement().classList.remove("game-nodes-modal-hidden")}function Y(){t.remove(I,B,T),I=null,B=null,T=null}function _(e){switch(e){case"AsideContextMenu":return T;case"AddNode":return I;case"RemoveNode":return B}}const H=document.querySelector(".aside-menu-resizer"),q=document.querySelector(".aside-menu-container"),R=3,$=8,z=window.innerWidth;let P=0;const U=new class{#e=null;#t=null;constructor(e){this.#e=e,this.#t=[]}bind(e,t){this.#t.push(e),t&&e(this.#e)}update(e){if("function"==typeof e){const t=e(this.#e);this.#e=t}else this.#e=e;let t=0,n=this.#t.length;for(;t<n;)this.#t[t](this.#e),t++}}({});function X(e,t,n){e.style.left=t,e.style.top=n}function F(t){if(t.srcElement===H)return;t.preventDefault();const n=t.clientX,s=t.clientY;localStorage.setItem(E,t.srcElement.dataset.node);const o=_("AsideContextMenu");if(o)X(o.getDOMElement(),`${n}px`,s-40+"px");else{!function(){const t="aside-menu-contextmenu-button",n="button";I=new e(n),I.set("setAttribute","class",t).set("textContent","Add new node").addEvent("click",G),B=new e(n),B.set("setAttribute","class",t).set("textContent","Remove node"),T=new e("section"),T.set("setAttribute","id","aside-menu-contextmenu").set("append",I.getDOMElement(),B.getDOMElement())}();const t=_("AsideContextMenu").getDOMElement();X(t,`${n}px`,s-40+"px"),q.appendChild(t)}}function K(){P=0,document.body.removeEventListener("mousemove",W)}function V(){P=parseFloat(getComputedStyle(H).width),document.body.addEventListener("mousemove",W),Y()}function W(e){const t=e.clientX+P;t<z/R&&!(t<z/$)&&(q.style.width=`${t}px`)}U.bind((function(n){const s=function(e){let t=0;for(let n in e)if(t++,t>0)return!1;return!0}(n);let o=null;s&&!t.isElementExist("aside-menu-nodes-list-empty")&&(o=function(){const t=new e("div");return t.set("innerHTML",'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-open"><path d="M12 22v-9"/><path d="M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z"/><path d="M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13"/><path d="M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z"/></svg>').set("append","Nodes list is empty!").set("setAttribute","class","aside-menu-nodes-list-empty rflex-center-center-medium").set("setAttribute","data-node","root"),t.getDOMElement()}()),q.querySelector(".aside-menu-nodes-list").appendChild(o),localStorage.removeItem(E)}),!0);const J=document.getElementById("project-actions-button");let Q=null,Z=null,ee=null,te=null,ne=null;function se(){(function(){const t="navigator-menu-button",n="button";Q=new e(n),Q.set("setAttribute","class",t).set("textContent","Create project"),Z=new e(n),Z.set("setAttribute","class",t).set("textContent","Save project"),ee=new e(n),ee.set("setAttribute","class",t).set("textContent","Save project as"),te=new e(n),te.set("setAttribute","class",t).set("textContent","Open project"),ne=new e("ul"),ne.set("setAttribute","class","navigator-menu-list").set("append",Q.getDOMElement(),Z.getDOMElement(),ee.getDOMElement(),te.getDOMElement())})(),J.appendChild(ne.getDOMElement())}function oe(){t.remove(Q,Z,ee,te,ne),Q=null,Z=null,ee=null,te=null,ne=null}J.addEventListener("mouseenter",se),J.addEventListener("mouseleave",oe),H.addEventListener("mousedown",V),H.addEventListener("mouseup",K),q.addEventListener("contextmenu",F),document.body.addEventListener("click",(function(e){document.body.removeEventListener("mousemove",W);const t=d("GameNodesModalBody")?.getDOMElement(),n=_("AsideContextMenu")?.getDOMElement();n&&!n.contains(e.target)&&(localStorage.removeItem(E),Y()),t&&!t.contains(e.target)&&a()}));</script></html>